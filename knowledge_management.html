<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ - æ™ºèƒ½é¡¹ç›®ç®¡ç†</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Microsoft YaHei', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.8em;
            margin-bottom: 10px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header p {
            color: #666;
            font-size: 1.2em;
        }
        
        .knowledge-categories {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .category-card {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
            border-left: 5px solid #667eea;
        }
        
        .category-card:hover {
            transform: translateY(-5px);
        }
        
        .category-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .category-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }
        
        .category-title {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .category-description {
            color: #666;
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .subcategories {
            display: grid;
            gap: 15px;
        }
        
        .subcategory-item {
            background: #f8f9ff;
            padding: 15px;
            border-radius: 10px;
            border-left: 3px solid #667eea;
            transition: all 0.3s ease;
        }
        
        .subcategory-item:hover {
            background: #f0f2ff;
            transform: translateX(5px);
        }
        
        .subcategory-name {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 5px;
        }
        
        .subcategory-desc {
            color: #666;
            font-size: 0.9em;
        }
        
        .knowledge-stats {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .stat-item {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border-radius: 15px;
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1.1em;
        }
        
        .project-selector {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }
        
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .project-card {
            background: #f8f9ff;
            padding: 20px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .project-card:hover {
            border-color: #667eea;
            background: #f0f2ff;
            transform: translateY(-3px);
        }
        
        .project-card.selected {
            border-color: #667eea;
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }
        
        .project-name {
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 10px;
        }
        
        .project-id {
            color: #666;
            font-size: 0.9em;
        }
        
        .project-card.selected .project-id {
            color: rgba(255,255,255,0.8);
        }
        
        .action-buttons {
            text-align: center;
            margin: 30px 0;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1em;
            margin: 0 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
        }
        
        .knowledge-results {
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-top: 30px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            display: none;
        }
        
        .knowledge-results.show {
            display: block;
        }
        
        .knowledge-item {
            background: #f8f9ff;
            padding: 20px;
            margin: 15px 0;
            border-radius: 15px;
            border-left: 4px solid #667eea;
        }
        
        .knowledge-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .knowledge-content {
            color: #666;
            line-height: 1.6;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            color: #666;
        }
        
        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2.2em;
            }
            
            .knowledge-categories {
                grid-template-columns: 1fr;
            }
            
            .project-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§  çŸ¥è¯†ç®¡ç†ç³»ç»Ÿ</h1>
            <p>æ™ºèƒ½é¡¹ç›®ç®¡ç† - çŸ¥è¯†æ²‰æ·€ä¸ç»éªŒæ€»ç»“</p>
            <p style="margin-top: 10px; color: #888;">åŸºäºé¡¹ç›®æ•°æ®è‡ªåŠ¨æå–å’Œåˆ†ç±»çŸ¥è¯†èµ„äº§</p>
        </div>
        
        <div class="knowledge-stats">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">ğŸ“Š çŸ¥è¯†ç»Ÿè®¡æ¦‚è§ˆ</h2>
            <div class="stats-grid">
                <div class="stat-item">
                    <div class="stat-number">5</div>
                    <div class="stat-label">çŸ¥è¯†å¤§ç±»</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">15</div>
                    <div class="stat-label">çŸ¥è¯†å­ç±»</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number">10</div>
                    <div class="stat-label">é¡¹ç›®æ•°é‡</div>
                </div>
                <div class="stat-item">
                    <div class="stat-number" id="knowledgeItemsCount">0</div>
                    <div class="stat-label">çŸ¥è¯†æ¡ç›®</div>
                </div>
            </div>
            <div style="text-align: center; margin-top: 15px; color: #666; font-size: 0.9em;">
                ğŸ“ æ•°æ®æº: knowledge_management.json (ç‹¬ç«‹çŸ¥è¯†ç®¡ç†æ•°æ®åº“)
            </div>
        </div>
        
        <div class="knowledge-categories">
            <div class="category-card">
                <div class="category-header">
                    <div class="category-icon">ğŸ“‹</div>
                    <div class="category-title">é¡¹ç›®è¿‡ç¨‹ä¸æˆæœç±»</div>
                </div>
                <div class="category-description">
                    æ¶µç›–é¡¹ç›®ç«‹é¡¹ã€è®¡åˆ’åˆ¶å®šã€æ‰§è¡Œè®°å½•å’Œæˆæœæ–‡æ¡£ç­‰å…¨ç”Ÿå‘½å‘¨æœŸçŸ¥è¯†
                </div>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <div class="subcategory-name">ç«‹é¡¹ä¿¡æ¯</div>
                        <div class="subcategory-desc">èƒŒæ™¯ã€ç›®æ ‡ã€èŒƒå›´ã€ç«‹é¡¹ä¾æ®ã€å¯è¡Œæ€§åˆ†æ</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">è®¡åˆ’ä¸åŸºçº¿</div>
                        <div class="subcategory-desc">è¿›åº¦è®¡åˆ’ã€æˆæœ¬é¢„ç®—ã€è´¨é‡è®¡åˆ’ã€èµ„æºè®¡åˆ’</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">æ‰§è¡Œè¿‡ç¨‹è®°å½•</div>
                        <div class="subcategory-desc">é‡Œç¨‹ç¢‘è¾¾æˆæƒ…å†µã€å…³é”®æ´»åŠ¨è¿‡ç¨‹æ•°æ®ã€å˜æ›´è®°å½•</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">æˆæœæ–‡æ¡£</div>
                        <div class="subcategory-desc">äº¤ä»˜ç‰©è¯´æ˜ä¹¦ã€ç”¨æˆ·æ‰‹å†Œã€ç³»ç»Ÿæ–‡æ¡£ã€æµ‹è¯•æŠ¥å‘Š</div>
                    </div>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-header">
                    <div class="category-icon">ğŸ’¡</div>
                    <div class="category-title">ç»éªŒä¸æ•™è®­ç±»</div>
                </div>
                <div class="category-description">
                    æ€»ç»“é¡¹ç›®æˆåŠŸå®è·µã€å¤±è´¥æ¡ˆä¾‹å’Œæ”¹è¿›å»ºè®®ï¼Œå½¢æˆç»„ç»‡æ™ºæ…§
                </div>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <div class="subcategory-name">æˆåŠŸå®è·µ</div>
                        <div class="subcategory-desc">å“ªäº›æ–¹æ³•ã€å·¥å…·ã€ç­–ç•¥å¸®åŠ©äº†ç›®æ ‡è¾¾æˆ</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">å¤±è´¥/é—®é¢˜æ¡ˆä¾‹</div>
                        <div class="subcategory-desc">é£é™©è§¦å‘ç‚¹ã€ç¼ºé™·ä¸è¿”å·¥åŸå› ã€æ²Ÿé€š/åä½œå¤±è¯¯</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">æ”¹è¿›å»ºè®®</div>
                        <div class="subcategory-desc">å¦‚ä½•é™ä½æˆæœ¬ã€ç¼©çŸ­å·¥æœŸã€å‡å°‘é£é™©</div>
                    </div>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-header">
                    <div class="category-icon">ğŸ¤</div>
                    <div class="category-title">ç®¡ç†ä¸ååŒç±»</div>
                </div>
                <div class="category-description">
                    è®°å½•ç®¡ç†å†³ç­–ã€æ²Ÿé€šæœºåˆ¶å’Œåä½œç»éªŒï¼Œæå‡ç»„ç»‡ååŒæ•ˆç‡
                </div>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <div class="subcategory-name">è´£ä»»çŸ©é˜µä¸æ¥å£æ–‡æ¡£</div>
                        <div class="subcategory-desc">è°è´Ÿè´£ä»€ä¹ˆã€è·¨éƒ¨é—¨æ¥å£å…³ç³»ã€æ²Ÿé€šæœºåˆ¶</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">å†³ç­–è®°å½•</div>
                        <div class="subcategory-desc">å…³é”®å†³ç­–çš„èƒŒæ™¯ã€è®¨è®ºè¦ç‚¹ã€æœ€ç»ˆé€‰æ‹©åŠå…¶ç†ç”±</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">æ²Ÿé€šè®°å½•</div>
                        <div class="subcategory-desc">é‡è¦ä¼šè®®çºªè¦ã€å†³ç­–è¿½è¸ªã€éœ€æ±‚å˜æ›´ç¡®è®¤</div>
                    </div>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-header">
                    <div class="category-icon">ğŸ› ï¸</div>
                    <div class="category-title">çŸ¥è¯†èµ„äº§ä¸æ–¹æ³•è®ºç±»</div>
                </div>
                <div class="category-description">
                    æ²‰æ·€å¯å¤ç”¨çš„æ¨¡æ¿ã€æ ‡å‡†å’Œæœ€ä½³å®è·µï¼Œå½¢æˆç»„ç»‡çŸ¥è¯†èµ„äº§
                </div>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <div class="subcategory-name">æ¨¡æ¿ä¸æ ‡å‡†</div>
                        <div class="subcategory-desc">éœ€æ±‚æ–‡æ¡£æ¨¡æ¿ã€æµ‹è¯•æ¨¡æ¿ã€è¿›åº¦æŠ¥å‘Šæ¨¡æ¿</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">æµç¨‹ä¸å·¥å…·å®è·µ</div>
                        <div class="subcategory-desc">ç‰ˆæœ¬æ§åˆ¶ã€è‡ªåŠ¨åŒ–æµ‹è¯•ã€æ•æ·å®è·µã€PMISä½¿ç”¨ç»éªŒ</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">æŒ‡æ ‡ä¸åº¦é‡</div>
                        <div class="subcategory-desc">å·¥æœŸåå·®ç‡ã€æˆæœ¬åå·®ç‡ã€ç¼ºé™·ç‡ã€æ»¡æ„åº¦ç­‰å…³é”®æŒ‡æ ‡</div>
                    </div>
                </div>
            </div>
            
            <div class="category-card">
                <div class="category-header">
                    <div class="category-icon">ğŸ¢</div>
                    <div class="category-title">ç»„ç»‡å±‚é¢ä»·å€¼ä¿¡æ¯</div>
                </div>
                <div class="category-description">
                    å½¢æˆç»„ç»‡çº§çŸ¥è¯†åº“ï¼Œæå‡æ•´ä½“èƒ½åŠ›å’Œç«äº‰åŠ›
                </div>
                <div class="subcategories">
                    <div class="subcategory-item">
                        <div class="subcategory-name">å¯å¤ç”¨çŸ¥è¯†</div>
                        <div class="subcategory-desc">è¡Œä¸šè§£å†³æ–¹æ¡ˆã€æŠ€æœ¯æ¶æ„ã€æ¥å£è§„èŒƒ</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">èƒ½åŠ›æˆç†Ÿåº¦æ²‰æ·€</div>
                        <div class="subcategory-desc">é¡¹ç›®ç®¡ç†æœ€ä½³å®è·µåº“ã€ç»éªŒæ•™è®­åº“ã€ä¸“å®¶ç»éªŒ</div>
                    </div>
                    <div class="subcategory-item">
                        <div class="subcategory-name">çŸ¥è¯†å…±äº«ä¸åŸ¹è®­ææ–™</div>
                        <div class="subcategory-desc">é¡¹ç›®æ€»ç»“åˆ†äº«ä¼šå†…å®¹ã€å†…éƒ¨åŸ¹è®­è¯¾ä»¶ã€FAQ</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="project-selector">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">ğŸ¯ é€‰æ‹©é¡¹ç›®è¿›è¡ŒçŸ¥è¯†æ±‡æ€»</h2>
            <div class="project-grid">
                <div class="project-card" onclick="selectProject(this, 'PRJ-2024-001')">
                    <div class="project-name">æ™ºèƒ½ç®¡ç†ç³»ç»Ÿå¼€å‘é¡¹ç›®</div>
                    <div class="project-id">PRJ-2024-001</div>
                </div>
                <div class="project-card" onclick="selectProject(this, 'BAT-2024-001')">
                    <div class="project-name">é«˜èƒ½é‡å¯†åº¦é”‚ç¦»å­ç”µæ± æ­£æææ–™ç ”å‘</div>
                    <div class="project-id">BAT-2024-001</div>
                </div>
                <div class="project-card" onclick="selectProject(this, 'ROB-2024-001')">
                    <div class="project-name">æ™ºèƒ½å…»è€æœåŠ¡æœºå™¨äººç³»ç»Ÿ</div>
                    <div class="project-id">ROB-2024-001</div>
                </div>
                <div class="project-card" onclick="selectProject(this, 'all')">
                    <div class="project-name">æ‰€æœ‰é¡¹ç›®çŸ¥è¯†æ±‡æ€»</div>
                    <div class="project-id">å…¨éƒ¨é¡¹ç›®</div>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn" onclick="generateKnowledge()">ğŸ§  ç”ŸæˆçŸ¥è¯†æ±‡æ€»</button>
            <button class="btn btn-secondary" onclick="viewSavedKnowledge()">ğŸ“š æŸ¥çœ‹å·²ä¿å­˜çŸ¥è¯†</button>
            <button class="btn btn-secondary" onclick="exportKnowledge()">ğŸ“¤ å¯¼å‡ºçŸ¥è¯†åº“</button>
            <button class="btn btn-secondary" onclick="refreshData()">ğŸ”„ åˆ·æ–°æ•°æ®</button>
        </div>
        
        <div class="knowledge-results" id="knowledgeResults">
            <h2 style="text-align: center; margin-bottom: 20px; color: #2c3e50;">ğŸ“š çŸ¥è¯†æ±‡æ€»ç»“æœ</h2>
            <div id="knowledgeContent">
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>æ­£åœ¨ç”ŸæˆçŸ¥è¯†æ±‡æ€»ï¼Œè¯·ç¨å€™...</p>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        let selectedProject = null;
        
        function selectProject(element, projectId) {
            // ç§»é™¤æ‰€æœ‰é€‰ä¸­çŠ¶æ€
            document.querySelectorAll('.project-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // æ·»åŠ é€‰ä¸­çŠ¶æ€
            element.classList.add('selected');
            selectedProject = projectId;
        }
        
        async function generateKnowledge() {
            if (!selectedProject) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé¡¹ç›®ï¼');
                return;
            }
            
            const resultsDiv = document.getElementById('knowledgeResults');
            const contentDiv = document.getElementById('knowledgeContent');
            
            resultsDiv.classList.add('show');
            contentDiv.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>æ­£åœ¨ç”ŸæˆçŸ¥è¯†æ±‡æ€»ï¼Œè¯·ç¨å€™...</p>
                </div>
            `;
            
            try {
                const response = await fetch('http://localhost:8000/api/v1/auto-reduce/intelligent-chat/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        message: 'è¿›è¡ŒçŸ¥è¯†ç®¡ç†æ±‡æ€»',
                        session_id: 'knowledge_' + Date.now()
                    })
                });
                
                const data = await response.json();
                
                if (data.code === 200) {
                    contentDiv.innerHTML = `
                        <div class="knowledge-item">
                            <div class="knowledge-title">ğŸ“Š çŸ¥è¯†æ±‡æ€»ç»“æœ</div>
                            <div class="knowledge-content">${data.data.response.replace(/\n/g, '<br>')}</div>
                        </div>
                    `;
                    
                    // åˆ·æ–°çŸ¥è¯†ç»Ÿè®¡ä¿¡æ¯
                    loadKnowledgeStats();
                } else {
                    contentDiv.innerHTML = `
                        <div class="knowledge-item">
                            <div class="knowledge-title">âŒ ç”Ÿæˆå¤±è´¥</div>
                            <div class="knowledge-content">${data.message || 'æœªçŸ¥é”™è¯¯'}</div>
                        </div>
                    `;
                }
            } catch (error) {
                contentDiv.innerHTML = `
                    <div class="knowledge-item">
                        <div class="knowledge-title">âŒ ç½‘ç»œé”™è¯¯</div>
                        <div class="knowledge-content">æ— æ³•è¿æ¥åˆ°æœåŠ¡å™¨ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥</div>
                    </div>
                `;
            }
        }
        
        function exportKnowledge() {
            alert('çŸ¥è¯†åº“å¯¼å‡ºåŠŸèƒ½å¼€å‘ä¸­...');
        }
        
        function refreshData() {
            location.reload();
        }
        
        async function viewSavedKnowledge() {
            const resultsDiv = document.getElementById('knowledgeResults');
            const contentDiv = document.getElementById('knowledgeContent');
            
            resultsDiv.classList.add('show');
            contentDiv.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <p>æ­£åœ¨åŠ è½½å·²ä¿å­˜çš„çŸ¥è¯†æ¡ç›®...</p>
                </div>
            `;
            
            try {
                const response = await fetch('knowledge_management.json');
                const data = await response.json();
                
                let html = '<div class="knowledge-item">';
                html += '<div class="knowledge-title">ğŸ“š å·²ä¿å­˜çš„çŸ¥è¯†æ¡ç›®</div>';
                html += '<div class="knowledge-content">';
                
                // æ˜¾ç¤ºæ•°æ®åº“ä¿¡æ¯
                const dbInfo = data.knowledge_database;
                html += `<h3>ğŸ“ çŸ¥è¯†ç®¡ç†æ•°æ®åº“ä¿¡æ¯</h3>`;
                html += `<p><strong>ç‰ˆæœ¬:</strong> ${dbInfo.version}</p>`;
                html += `<p><strong>åˆ›å»ºæ—¶é—´:</strong> ${dbInfo.created_date}</p>`;
                html += `<p><strong>æœ€åæ›´æ–°:</strong> ${dbInfo.last_updated}</p>`;
                html += `<p><strong>æè¿°:</strong> ${dbInfo.description}</p>`;
                
                // æ˜¾ç¤ºç»Ÿè®¡ä¿¡æ¯
                const stats = data.knowledge_statistics;
                html += `<h3>ğŸ“Š çŸ¥è¯†ç»Ÿè®¡ä¿¡æ¯</h3>`;
                html += `<p><strong>çŸ¥è¯†å¤§ç±»:</strong> ${stats.total_categories}ä¸ª</p>`;
                html += `<p><strong>çŸ¥è¯†å­ç±»:</strong> ${stats.total_subcategories}ä¸ª</p>`;
                html += `<p><strong>é¡¹ç›®æ•°é‡:</strong> ${stats.total_projects}ä¸ª</p>`;
                html += `<p><strong>çŸ¥è¯†æ¡ç›®:</strong> ${stats.total_knowledge_items}æ¡</p>`;
                
                // æ˜¾ç¤ºé¡¹ç›®çŸ¥è¯†
                html += `<h3>ğŸ“‹ é¡¹ç›®çŸ¥è¯†æ¡ç›®</h3>`;
                for (const [projectId, projectData] of Object.entries(data.knowledge_projects)) {
                    html += `<div style="margin: 20px 0; padding: 15px; background: #f8f9ff; border-radius: 10px;">`;
                    html += `<h4>${projectData.project_name} (${projectId})</h4>`;
                    html += `<p><strong>æå–çŠ¶æ€:</strong> ${projectData.knowledge_summary.extraction_status}</p>`;
                    html += `<p><strong>çŸ¥è¯†æ¡ç›®æ•°:</strong> ${projectData.knowledge_summary.total_knowledge_items}</p>`;
                    html += `<p><strong>æœ€åæå–æ—¶é—´:</strong> ${projectData.knowledge_summary.last_extraction_date || 'æœªæå–'}</p>`;
                    
                    // æ˜¾ç¤ºçŸ¥è¯†åˆ†ç±»
                    if (projectData.knowledge_by_category) {
                        html += `<h5>çŸ¥è¯†åˆ†ç±»:</h5>`;
                        for (const [category, items] of Object.entries(projectData.knowledge_by_category)) {
                            if (Array.isArray(items) && items.length > 0) {
                                html += `<p>â€¢ ${category}: ${items.length}æ¡</p>`;
                            }
                        }
                    }
                    html += `</div>`;
                }
                
                html += '</div></div>';
                contentDiv.innerHTML = html;
                
            } catch (error) {
                contentDiv.innerHTML = `
                    <div class="knowledge-item">
                        <div class="knowledge-title">âŒ åŠ è½½å¤±è´¥</div>
                        <div class="knowledge-content">æ— æ³•åŠ è½½çŸ¥è¯†ç®¡ç†æ•°æ®åº“: ${error.message}</div>
                    </div>
                `;
            }
        }
        
        // åŠ è½½çŸ¥è¯†ç®¡ç†æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯
        async function loadKnowledgeStats() {
            try {
                const response = await fetch('knowledge_management.json');
                const data = await response.json();
                
                const stats = data.knowledge_statistics;
                document.getElementById('knowledgeItemsCount').textContent = stats.total_knowledge_items;
                
                // æ›´æ–°æ•°æ®åº“ä¿¡æ¯
                const dbInfo = data.knowledge_database;
                console.log('çŸ¥è¯†ç®¡ç†æ•°æ®åº“ç‰ˆæœ¬:', dbInfo.version);
                console.log('æœ€åæ›´æ–°æ—¶é—´:', dbInfo.last_updated);
                
            } catch (error) {
                console.error('åŠ è½½çŸ¥è¯†ç®¡ç†æ•°æ®åº“å¤±è´¥:', error);
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            console.log('çŸ¥è¯†ç®¡ç†ç³»ç»Ÿé¡µé¢å·²åŠ è½½');
            loadKnowledgeStats();
        });
    </script>
</body>
</html>
